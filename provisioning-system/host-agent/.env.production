# Host Agent Configuration - PRODUCTION MODE
# This file is copied into the Docker image and loaded automatically
# Copy this file to .env for production mode

# Node identification (CHANGE THESE FOR EACH HOST NODE)
NODE_ID=node-1

# Orchestrator Configuration
ORCHESTRATOR_HOST=satisfactory-orchestrator
ORCHESTRATOR_PORT=8080

# Host Agent Configuration
HOST_AGENT_PORT=8082
HOST_AGENT_API_KEY=your-secure-host-agent-api-key-here

# Rathole Individual Instance Configuration
# CRITICAL: Update these with your actual values
RATHOLE_INSTANCE_MANAGER_HOST=your-public-vps-ip-here
RATHOLE_INSTANCE_MANAGER_PORT=7001
RATHOLE_TOKEN=your-secure-api-token-here
RATHOLE_CLIENT_BINARY=/usr/local/bin/rathole

# Production heartbeat settings (recommended for production)
HEARTBEAT_INTERVAL=60           # Send heartbeat every 60 seconds
HEARTBEAT_TIMEOUT=10            # Timeout after 10 seconds
MAX_HEARTBEAT_FAILURES=3        # Re-register after 3 failures

# Use container IP addresses for Rathole clients in production
USE_CONTAINER_HOSTNAMES=false

# Flask settings
FLASK_DEBUG=false
FLASK_ENV=production

# To enable production mode:
# 1. Copy this file: cp .env.production .env
# 2. Update RATHOLE_INSTANCE_MANAGER_HOST with your VPS IP
# 3. Update RATHOLE_TOKEN with your secure token  
# 4. Update HOST_AGENT_API_KEY with your secure API key
# 5. Rebuild the container: docker-compose build
# 6. Restart: docker-compose up -d
